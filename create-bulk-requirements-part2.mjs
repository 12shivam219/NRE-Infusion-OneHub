import dotenv from 'dotenv';
import { createClient } from '@supabase/supabase-js';

dotenv.config();

const supabaseUrl = process.env.VITE_SUPABASE_URL || '';
const supabaseKey = process.env.VITE_SUPABASE_ANON_KEY || '';

if (!supabaseUrl || !supabaseKey) {
  console.error('Missing Supabase credentials in .env file');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, supabaseKey);

const requirements = [
  // Mobile Developers (15 requirements)
  {
    title: 'iOS Developer (Swift)',
    company: 'Apple Ecosystem',
    status: 'NEW',
    description: 'iOS specialist using Swift and SwiftUI',
    primary_tech_stack: 'Swift, SwiftUI, Xcode',
    location: 'San Francisco, CA',
    rate: '$140-165/hr',
    remote: 'Hybrid',
    duration: '6 months',
    applied_for: '2025-01-05',
  },
  {
    title: 'Android Developer (Kotlin)',
    company: 'Android First',
    status: 'IN_PROGRESS',
    description: 'Android specialist using Kotlin',
    primary_tech_stack: 'Kotlin, Jetpack, Android Studio',
    location: 'New York, NY',
    rate: '$130-155/hr',
    remote: 'Remote',
    duration: '5 months',
    applied_for: '2025-01-04',
  },
  {
    title: 'Flutter Developer',
    company: 'Cross-platform Mobile',
    status: 'INTERVIEW',
    description: 'Flutter specialist for multi-platform mobile apps',
    primary_tech_stack: 'Flutter, Dart, Firebase',
    location: 'Austin, TX',
    rate: '$125-145/hr',
    remote: 'Full Remote',
    duration: '4 months',
    applied_for: '2025-01-03',
  },
  {
    title: 'React Native Developer',
    company: 'Mobile Apps Co',
    status: 'NEW',
    description: 'React Native specialist for iOS and Android',
    primary_tech_stack: 'React Native, JavaScript, Expo',
    location: 'Boston, MA',
    rate: '$135-160/hr',
    remote: 'On-site',
    duration: '5 months',
    applied_for: '2025-01-02',
  },
  {
    title: 'Cross-platform Mobile Developer',
    company: 'Xamarin Specialists',
    status: 'OFFER',
    description: 'Xamarin and cross-platform development expert',
    primary_tech_stack: 'Xamarin, C#, .NET',
    location: 'Seattle, WA',
    rate: '$130-155/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-01',
  },
  {
    title: 'Mobile Game Developer',
    company: 'Game Studios',
    status: 'NEW',
    description: 'Mobile game development using Unity or Unreal',
    primary_tech_stack: 'Unity, C#, Game Development',
    location: 'Los Angeles, CA',
    rate: '$140-165/hr',
    remote: 'Remote',
    duration: '6 months',
    applied_for: '2024-12-31',
  },
  {
    title: 'iOS Game Developer',
    company: 'Apple Gaming',
    status: 'IN_PROGRESS',
    description: 'iOS game development specialist',
    primary_tech_stack: 'Swift, SpriteKit, GameKit',
    location: 'Chicago, IL',
    rate: '$130-155/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-30',
  },
  {
    title: 'Mobile UI/UX Designer Developer',
    company: 'Design & Mobile',
    status: 'NEW',
    description: 'Mobile interface design and implementation',
    primary_tech_stack: 'React Native, Figma, Sketch',
    location: 'Denver, CO',
    rate: '$125-145/hr',
    remote: 'Full Remote',
    duration: '3 months',
    applied_for: '2024-12-29',
  },
  {
    title: 'Mobile Performance Engineer',
    company: 'Performance Mobile',
    status: 'INTERVIEW',
    description: 'Mobile app optimization and performance specialist',
    primary_tech_stack: 'Android, iOS, Performance Tools',
    location: 'Portland, OR',
    rate: '$130-150/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-28',
  },
  {
    title: 'Mobile Testing Specialist',
    company: 'Mobile QA',
    status: 'NEW',
    description: 'Mobile app testing and automation',
    primary_tech_stack: 'Appium, XCTest, Espresso',
    location: 'Philadelphia, PA',
    rate: '$115-135/hr',
    remote: 'Remote',
    duration: '3 months',
    applied_for: '2024-12-27',
  },
  {
    title: 'Mobile Backend Integration Developer',
    company: 'Mobile Services',
    status: 'IN_PROGRESS',
    description: 'Backend integration for mobile applications',
    primary_tech_stack: 'REST API, GraphQL, Mobile SDK',
    location: 'Miami, FL',
    rate: '$125-145/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-26',
  },
  {
    title: 'Watchless & Wearables Developer',
    company: 'Wearables Tech',
    status: 'OFFER',
    description: 'Apple Watch and wearable devices specialist',
    primary_tech_stack: 'Swift, watchOS, WearOS',
    location: 'Atlanta, GA',
    rate: '$120-140/hr',
    remote: 'Remote',
    duration: '3 months',
    applied_for: '2024-12-25',
  },
  {
    title: 'Mobile Security Developer',
    company: 'Mobile Security',
    status: 'NEW',
    description: 'Mobile app security and encryption specialist',
    primary_tech_stack: 'Security, Encryption, Mobile SDK',
    location: 'Phoenix, AZ',
    rate: '$140-165/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-24',
  },
  {
    title: 'AR/VR Mobile Developer',
    company: 'Immersive Tech',
    status: 'NEW',
    description: 'Augmented and Virtual Reality mobile development',
    primary_tech_stack: 'ARKit, Google ARCore, Unity',
    location: 'San Diego, CA',
    rate: '$145-170/hr',
    remote: 'Full Remote',
    duration: '5 months',
    applied_for: '2024-12-23',
  },
  {
    title: 'IoT Mobile Developer',
    company: 'IoT Solutions',
    status: 'IN_PROGRESS',
    description: 'IoT device communication and mobile integration',
    primary_tech_stack: 'Bluetooth, IoT SDK, React Native',
    location: 'Washington, DC',
    rate: '$130-150/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-22',
  },

  // Data & ML Engineers (20 requirements)
  {
    title: 'Data Scientist',
    company: 'Data Science Labs',
    status: 'NEW',
    description: 'Data scientist for machine learning model development',
    primary_tech_stack: 'Python, scikit-learn, TensorFlow',
    location: 'San Francisco, CA',
    rate: '$150-180/hr',
    remote: 'Hybrid',
    duration: '6 months',
    applied_for: '2025-01-05',
  },
  {
    title: 'Machine Learning Engineer',
    company: 'ML Systems',
    status: 'IN_PROGRESS',
    description: 'MLOps and production ML systems specialist',
    primary_tech_stack: 'Python, TensorFlow, Kubernetes',
    location: 'New York, NY',
    rate: '$155-185/hr',
    remote: 'Remote',
    duration: '6 months',
    applied_for: '2025-01-04',
  },
  {
    title: 'Deep Learning Specialist',
    company: 'Deep Learning Inc',
    status: 'INTERVIEW',
    description: 'Deep learning and neural networks expert',
    primary_tech_stack: 'PyTorch, TensorFlow, CUDA',
    location: 'Austin, TX',
    rate: '$160-190/hr',
    remote: 'Full Remote',
    duration: '6 months',
    applied_for: '2025-01-03',
  },
  {
    title: 'NLP Engineer',
    company: 'Language AI',
    status: 'NEW',
    description: 'Natural Language Processing specialist',
    primary_tech_stack: 'Python, NLTK, Transformers',
    location: 'Boston, MA',
    rate: '$145-170/hr',
    remote: 'On-site',
    duration: '5 months',
    applied_for: '2025-01-02',
  },
  {
    title: 'Computer Vision Engineer',
    company: 'Vision Systems',
    status: 'OFFER',
    description: 'Computer vision and image processing specialist',
    primary_tech_stack: 'OpenCV, PyTorch, YOLO',
    location: 'Seattle, WA',
    rate: '$150-180/hr',
    remote: 'Hybrid',
    duration: '6 months',
    applied_for: '2025-01-01',
  },
  {
    title: 'Data Engineer',
    company: 'Big Data Solutions',
    status: 'NEW',
    description: 'Data pipeline and ETL specialist',
    primary_tech_stack: 'Spark, Hadoop, Python',
    location: 'Los Angeles, CA',
    rate: '$135-160/hr',
    remote: 'Remote',
    duration: '5 months',
    applied_for: '2024-12-31',
  },
  {
    title: 'Analytics Engineer',
    company: 'Analytics First',
    status: 'IN_PROGRESS',
    description: 'Data analytics and BI tool specialist',
    primary_tech_stack: 'SQL, dbt, Tableau',
    location: 'Chicago, IL',
    rate: '$125-150/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-30',
  },
  {
    title: 'Big Data Engineer',
    company: 'Hadoop Specialists',
    status: 'NEW',
    description: 'Hadoop and distributed computing specialist',
    primary_tech_stack: 'Hadoop, Spark, Scala',
    location: 'Denver, CO',
    rate: '$140-165/hr',
    remote: 'Full Remote',
    duration: '5 months',
    applied_for: '2024-12-29',
  },
  {
    title: 'Time Series Forecasting Expert',
    company: 'Forecasting Labs',
    status: 'INTERVIEW',
    description: 'Time series analysis and forecasting specialist',
    primary_tech_stack: 'Python, Prophet, LSTM',
    location: 'Portland, OR',
    rate: '$130-155/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-28',
  },
  {
    title: 'Recommendation Systems Engineer',
    company: 'Recommendation AI',
    status: 'NEW',
    description: 'Build recommendation algorithms and systems',
    primary_tech_stack: 'Python, Collaborative Filtering, ML',
    location: 'Philadelphia, PA',
    rate: '$140-165/hr',
    remote: 'Remote',
    duration: '5 months',
    applied_for: '2024-12-27',
  },
  {
    title: 'Data Privacy & Security Engineer',
    company: 'Privacy Tech',
    status: 'IN_PROGRESS',
    description: 'Data privacy, encryption, and security specialist',
    primary_tech_stack: 'Encryption, Privacy, Security',
    location: 'Miami, FL',
    rate: '$135-160/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-26',
  },
  {
    title: 'Feature Engineering Specialist',
    company: 'Feature Labs',
    status: 'OFFER',
    description: 'Feature engineering and data preparation expert',
    primary_tech_stack: 'Python, Pandas, Feature Store',
    location: 'Atlanta, GA',
    rate: '$130-155/hr',
    remote: 'Remote',
    duration: '3 months',
    applied_for: '2024-12-25',
  },
  {
    title: 'Model Deployment Engineer',
    company: 'Model Ops',
    status: 'NEW',
    description: 'Deploy and serve ML models in production',
    primary_tech_stack: 'Docker, Kubernetes, TensorFlow',
    location: 'Phoenix, AZ',
    rate: '$135-160/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-24',
  },
  {
    title: 'Data Visualization Specialist',
    company: 'Visual Analytics',
    status: 'NEW',
    description: 'Create interactive data visualizations',
    primary_tech_stack: 'D3.js, Plotly, Power BI',
    location: 'San Diego, CA',
    rate: '$115-135/hr',
    remote: 'Full Remote',
    duration: '3 months',
    applied_for: '2024-12-23',
  },
  {
    title: 'Statistical Analyst',
    company: 'Statistical Systems',
    status: 'IN_PROGRESS',
    description: 'Statistical analysis and hypothesis testing',
    primary_tech_stack: 'R, Python, Statistics',
    location: 'Washington, DC',
    rate: '$125-145/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-22',
  },
  {
    title: 'LLM Fine-tuning Engineer',
    company: 'LLM Specialists',
    status: 'INTERVIEW',
    description: 'Fine-tune large language models for specific tasks',
    primary_tech_stack: 'Python, Hugging Face, LLM',
    location: 'Raleigh, NC',
    rate: '$155-185/hr',
    remote: 'Remote',
    duration: '4 months',
    applied_for: '2024-12-21',
  },
  {
    title: 'Prompt Engineering Specialist',
    company: 'AI Prompt Lab',
    status: 'NEW',
    description: 'Optimize prompts for AI/LLM interactions',
    primary_tech_stack: 'Python, OpenAI API, LLM',
    location: 'Orlando, FL',
    rate: '$120-140/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-20',
  },
  {
    title: 'Reinforcement Learning Engineer',
    company: 'RL Systems',
    status: 'NEW',
    description: 'Build reinforcement learning models and environments',
    primary_tech_stack: 'Python, Gym, TensorFlow',
    location: 'Minneapolis, MN',
    rate: '$145-170/hr',
    remote: 'Remote',
    duration: '5 months',
    applied_for: '2024-12-19',
  },
  {
    title: 'Anomaly Detection Engineer',
    company: 'Anomaly Detection Inc',
    status: 'OFFER',
    description: 'Build anomaly detection systems',
    primary_tech_stack: 'Python, Isolation Forest, Statistical',
    location: 'Nashville, TN',
    rate: '$130-155/hr',
    remote: 'Full Remote',
    duration: '4 months',
    applied_for: '2024-12-18',
  },

  // QA & Testing (15 requirements)
  {
    title: 'QA Engineer',
    company: 'Quality Assurance Pro',
    status: 'NEW',
    description: 'General QA engineer for web applications',
    primary_tech_stack: 'Selenium, TestNG, JIRA',
    location: 'San Francisco, CA',
    rate: '$110-130/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-05',
  },
  {
    title: 'Automation QA Engineer',
    company: 'Test Automation Co',
    status: 'IN_PROGRESS',
    description: 'Test automation specialist for CI/CD pipelines',
    primary_tech_stack: 'Cypress, Playwright, JavaScript',
    location: 'New York, NY',
    rate: '$120-140/hr',
    remote: 'Remote',
    duration: '4 months',
    applied_for: '2025-01-04',
  },
  {
    title: 'Performance Testing Engineer',
    company: 'Load Testing Labs',
    status: 'INTERVIEW',
    description: 'Load and performance testing specialist',
    primary_tech_stack: 'JMeter, LoadRunner, K6',
    location: 'Austin, TX',
    rate: '$115-135/hr',
    remote: 'Full Remote',
    duration: '3 months',
    applied_for: '2025-01-03',
  },
  {
    title: 'API Testing Specialist',
    company: 'API QA',
    status: 'NEW',
    description: 'REST and GraphQL API testing specialist',
    primary_tech_stack: 'Postman, REST Assured, API Testing',
    location: 'Boston, MA',
    rate: '$110-130/hr',
    remote: 'On-site',
    duration: '3 months',
    applied_for: '2025-01-02',
  },
  {
    title: 'Mobile QA Automation Engineer',
    company: 'Mobile Testing',
    status: 'OFFER',
    description: 'Mobile app testing and automation',
    primary_tech_stack: 'Appium, XCTest, Espresso',
    location: 'Seattle, WA',
    rate: '$120-140/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-01',
  },
  {
    title: 'Security Testing Engineer',
    company: 'Security QA',
    status: 'NEW',
    description: 'Penetration testing and security assessment',
    primary_tech_stack: 'Burp Suite, OWASP, Security Tools',
    location: 'Los Angeles, CA',
    rate: '$130-155/hr',
    remote: 'Remote',
    duration: '5 months',
    applied_for: '2024-12-31',
  },
  {
    title: 'Accessibility Testing Specialist',
    company: 'A11y Testing',
    status: 'IN_PROGRESS',
    description: 'WCAG compliance and accessibility testing',
    primary_tech_stack: 'WCAG, Axe, AccessScan',
    location: 'Chicago, IL',
    rate: '$115-135/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-30',
  },
  {
    title: 'Regression Testing Lead',
    company: 'Test Management',
    status: 'NEW',
    description: 'Lead regression testing efforts and test case management',
    primary_tech_stack: 'Test Case Management, Selenium, JIRA',
    location: 'Denver, CO',
    rate: '$120-140/hr',
    remote: 'Full Remote',
    duration: '4 months',
    applied_for: '2024-12-29',
  },
  {
    title: 'End-to-End Testing Engineer',
    company: 'E2E Testing',
    status: 'INTERVIEW',
    description: 'End-to-end testing with modern frameworks',
    primary_tech_stack: 'Cypress, Playwright, WebDriver',
    location: 'Portland, OR',
    rate: '$115-135/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-28',
  },
  {
    title: 'Database Testing Engineer',
    company: 'DB QA',
    status: 'NEW',
    description: 'Database integrity and SQL testing',
    primary_tech_stack: 'SQL, Database Testing, MySQL',
    location: 'Philadelphia, PA',
    rate: '$110-130/hr',
    remote: 'Remote',
    duration: '3 months',
    applied_for: '2024-12-27',
  },
  {
    title: 'Test Data Management Engineer',
    company: 'Test Data Pro',
    status: 'IN_PROGRESS',
    description: 'Test data generation and management specialist',
    primary_tech_stack: 'Data Generation, ETL, Python',
    location: 'Miami, FL',
    rate: '$110-130/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-26',
  },
  {
    title: 'Continuous Testing Engineer',
    company: 'Continuous QA',
    status: 'OFFER',
    description: 'Continuous testing in CI/CD pipelines',
    primary_tech_stack: 'Jenkins, GitLab CI, Test Automation',
    location: 'Atlanta, GA',
    rate: '$120-140/hr',
    remote: 'Remote',
    duration: '4 months',
    applied_for: '2024-12-25',
  },
  {
    title: 'Manual Testing Lead',
    company: 'Manual QA',
    status: 'NEW',
    description: 'Lead manual testing efforts and quality assurance',
    primary_tech_stack: 'Test Management, JIRA, QA Processes',
    location: 'Phoenix, AZ',
    rate: '$100-120/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-24',
  },
  {
    title: 'Browser Compatibility Testing Engineer',
    company: 'Cross-browser Testing',
    status: 'NEW',
    description: 'Cross-browser and cross-device testing',
    primary_tech_stack: 'BrowserStack, Selenium, Testing',
    location: 'San Diego, CA',
    rate: '$110-130/hr',
    remote: 'Full Remote',
    duration: '3 months',
    applied_for: '2024-12-23',
  },
  {
    title: 'Game QA Tester',
    company: 'Game Testing Co',
    status: 'IN_PROGRESS',
    description: 'Game testing and quality assurance',
    primary_tech_stack: 'Game Testing, Unity, Unreal',
    location: 'Washington, DC',
    rate: '$90-110/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-22',
  },

  // UI/UX & Design (10 requirements)
  {
    title: 'UI Designer',
    company: 'Design Studios',
    status: 'NEW',
    description: 'User interface design specialist',
    primary_tech_stack: 'Figma, Adobe XD, UI Design',
    location: 'San Francisco, CA',
    rate: '$100-120/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-05',
  },
  {
    title: 'UX Designer',
    company: 'UX Labs',
    status: 'IN_PROGRESS',
    description: 'User experience design specialist',
    primary_tech_stack: 'Figma, User Research, Wireframing',
    location: 'New York, NY',
    rate: '$110-130/hr',
    remote: 'Remote',
    duration: '4 months',
    applied_for: '2025-01-04',
  },
  {
    title: 'Product Designer',
    company: 'Product Design Co',
    status: 'INTERVIEW',
    description: 'Product design specialist',
    primary_tech_stack: 'Figma, Design Systems, Prototyping',
    location: 'Austin, TX',
    rate: '$120-145/hr',
    remote: 'Full Remote',
    duration: '4 months',
    applied_for: '2025-01-03',
  },
  {
    title: 'Interaction Designer',
    company: 'Interaction Design',
    status: 'NEW',
    description: 'Interaction and motion design specialist',
    primary_tech_stack: 'Framer, After Effects, Prototyping',
    location: 'Boston, MA',
    rate: '$105-125/hr',
    remote: 'On-site',
    duration: '3 months',
    applied_for: '2025-01-02',
  },
  {
    title: 'Design System Manager',
    company: 'Design System Co',
    status: 'OFFER',
    description: 'Design system creation and maintenance',
    primary_tech_stack: 'Figma, Storybook, Design Systems',
    location: 'Seattle, WA',
    rate: '$115-135/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-01',
  },
  {
    title: 'Graphic Designer',
    company: 'Creative Agency',
    status: 'NEW',
    description: 'Graphic and visual design specialist',
    primary_tech_stack: 'Adobe Creative Suite, Graphic Design',
    location: 'Los Angeles, CA',
    rate: '$90-110/hr',
    remote: 'Remote',
    duration: '3 months',
    applied_for: '2024-12-31',
  },
  {
    title: 'Brand Designer',
    company: 'Branding Experts',
    status: 'IN_PROGRESS',
    description: 'Brand identity and visual design specialist',
    primary_tech_stack: 'Adobe Suite, Brand Guidelines, Design',
    location: 'Chicago, IL',
    rate: '$100-120/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2024-12-30',
  },
  {
    title: 'Web Designer',
    company: 'Web Design Pro',
    status: 'NEW',
    description: 'Web design and layout specialist',
    primary_tech_stack: 'Figma, Webflow, HTML/CSS',
    location: 'Denver, CO',
    rate: '$95-115/hr',
    remote: 'Full Remote',
    duration: '3 months',
    applied_for: '2024-12-29',
  },
  {
    title: 'Motion Designer',
    company: 'Motion Studio',
    status: 'INTERVIEW',
    description: 'Animation and motion design specialist',
    primary_tech_stack: 'After Effects, Cinema 4D, Animation',
    location: 'Portland, OR',
    rate: '$110-130/hr',
    remote: 'Hybrid',
    duration: '3 months',
    applied_for: '2024-12-28',
  },
  {
    title: 'Design Lead',
    company: 'Design Leadership',
    status: 'NEW',
    description: 'Lead design team and design strategy',
    primary_tech_stack: 'Design Management, Figma, Design Process',
    location: 'Philadelphia, PA',
    rate: '$130-155/hr',
    remote: 'Hybrid',
    duration: '5 months',
    applied_for: '2024-12-27',
  },

  // Product & Management (8 requirements)
  {
    title: 'Product Manager',
    company: 'Product Leaders',
    status: 'NEW',
    description: 'Product management specialist',
    primary_tech_stack: 'Product Strategy, Analytics, Agile',
    location: 'San Francisco, CA',
    rate: '$120-150/hr',
    remote: 'Hybrid',
    duration: '6 months',
    applied_for: '2025-01-05',
  },
  {
    title: 'Technical Product Manager',
    company: 'Tech Product',
    status: 'IN_PROGRESS',
    description: 'Technical product management specialist',
    primary_tech_stack: 'Product Strategy, Technical Knowledge, SQL',
    location: 'New York, NY',
    rate: '$130-160/hr',
    remote: 'Remote',
    duration: '6 months',
    applied_for: '2025-01-04',
  },
  {
    title: 'Project Manager',
    company: 'Project Experts',
    status: 'INTERVIEW',
    description: 'Project management specialist',
    primary_tech_stack: 'Jira, Asana, Project Management',
    location: 'Austin, TX',
    rate: '$100-120/hr',
    remote: 'Full Remote',
    duration: '4 months',
    applied_for: '2025-01-03',
  },
  {
    title: 'Scrum Master',
    company: 'Agile Experts',
    status: 'NEW',
    description: 'Scrum master and agile facilitation',
    primary_tech_stack: 'Scrum, Agile, Jira',
    location: 'Boston, MA',
    rate: '$90-110/hr',
    remote: 'On-site',
    duration: '3 months',
    applied_for: '2025-01-02',
  },
  {
    title: 'Business Analyst',
    company: 'Business Analysis Pro',
    status: 'OFFER',
    description: 'Business analysis and requirements gathering',
    primary_tech_stack: 'Business Analysis, SQL, Data Analysis',
    location: 'Seattle, WA',
    rate: '$100-120/hr',
    remote: 'Hybrid',
    duration: '4 months',
    applied_for: '2025-01-01',
  },
  {
    title: 'Solutions Architect',
    company: 'Architecture Solutions',
    status: 'NEW',
    description: 'Enterprise solutions architecture',
    primary_tech_stack: 'Architecture, Enterprise Systems, Design',
    location: 'Los Angeles, CA',
    rate: '$140-170/hr',
    remote: 'Remote',
    duration: '6 months',
    applied_for: '2024-12-31',
  },
  {
    title: 'Technical Lead',
    company: 'Leadership Tech',
    status: 'IN_PROGRESS',
    description: 'Technical team leadership and mentoring',
    primary_tech_stack: 'Leadership, Technical Knowledge, Mentoring',
    location: 'Chicago, IL',
    rate: '$130-160/hr',
    remote: 'Hybrid',
    duration: '5 months',
    applied_for: '2024-12-30',
  },
  {
    title: 'Engineering Manager',
    company: 'Engineering Leadership',
    status: 'NEW',
    description: 'Engineering team management',
    primary_tech_stack: 'Team Management, Engineering, Leadership',
    location: 'Denver, CO',
    rate: '$140-170/hr',
    remote: 'Hybrid',
    duration: '5 months',
    applied_for: '2024-12-29',
  },
];

async function bulkCreateRequirements() {
  try {
    console.log(`Creating ${requirements.length} requirements...`);
    
    // Sign in with credentials
    const { data: { user }, error: signInError } = await supabase.auth.signInWithPassword({
      email: '12shivamtiwari219@gmail.com',
      password: 'admin123',
    });
    
    if (signInError) {
      console.error('Sign in error:', signInError);
      process.exit(1);
    }
    
    const userId = user?.id;
    
    if (!userId) {
      console.error('Failed to authenticate user.');
      process.exit(1);
    }
    
    console.log(`Using user ID: ${userId}`);
    
    // Create requirements in batches
    const batchSize = 10;
    let successCount = 0;
    let errorCount = 0;
    
    for (let i = 0; i < requirements.length; i += batchSize) {
      const batch = requirements.slice(i, i + batchSize);
      
      const batchResults = await Promise.allSettled(
        batch.map(req => 
          supabase
            .from('requirements')
            .insert({
              ...req,
              user_id: userId,
            })
            .select()
        )
      );
      
      batchResults.forEach((result) => {
        if (result.status === 'fulfilled') {
          if (result.value.error) {
            console.error('Error creating requirement:', result.value.error);
            errorCount++;
          } else {
            successCount++;
          }
        } else {
          console.error('Batch error:', result.reason);
          errorCount++;
        }
      });
      
      console.log(`Processed ${Math.min(i + batchSize, requirements.length)} of ${requirements.length}`);
    }
    
    console.log(`\nCompleted! Success: ${successCount}, Errors: ${errorCount}`);
  } catch (error) {
    console.error('Failed to create bulk requirements:', error);
    process.exit(1);
  }
}

// Run the function
bulkCreateRequirements().then(() => {
  console.log('All done!');
  process.exit(0);
});
