
# ==============================================================================
# FRONTEND ENVIRONMENT VARIABLES (Safe - Bundled into client-side code)
# ==============================================================================

# Supabase Configuration (Public - Anon Key)
# Get these values from your Supabase project dashboard:
# 1. Go to https://app.supabase.com
# 2. Select your project
# 3. Go to Settings > API
# 4. Copy the Project URL and Anon Key
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Google OAuth Configuration (Public - Client ID only)
# To enable Google Integration:
# 1. Create a project in Google Cloud Console
# 2. Enable the Google Drive API and Gmail API
# 3. Create OAuth 2.0 credentials (Web Application)
# 4. Set authorized redirect URIs to http://localhost:5173/oauth/callback
# 5. Copy the Client ID below
# SECURITY: Client Secret is NEVER sent to frontend - handled by backend only
VITE_GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
VITE_GOOGLE_REDIRECT_URI=http://localhost:5173/oauth/callback

# Application URLs
VITE_APP_URL=http://localhost:5173

# NOTE: Do NOT store secret encryption keys in frontend environment variables.
# Frontend variables prefixed with `VITE_` are bundled into the browser and are
# publicly visible. Move all secret keys to the backend (see ENCRYPTION_MASTER_KEY below).

# ==============================================================================
# EMAIL SERVER CONFIGURATION
# ==============================================================================

# Server Port
EMAIL_SERVER_PORT=3001
NODE_ENV=development

# Email Account Configuration
# Format: email1@gmail.com:app_password1;email2@gmail.com:app_password2
# For Gmail App Passwords: https://support.google.com/accounts/answer/185833
EMAIL_ACCOUNTS=your_email@gmail.com:your_app_password

# Legacy Format (Optional - supports single account fallback)
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password

# CORS Configuration - Whitelist allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# API Key for Email Server Authentication
# Generate with: openssl rand -base64 32
API_KEY=your_random_api_key_here

# Encryption Master Key for Backend Email Server (ENCRYPTION_MASTER_KEY)
# SECURITY CRITICAL: Used for encrypting email passwords on the backend
# In development: Use the default development key (will show a warning)
# In production: MUST be set to a strong, unique key - application will FAIL to start without it
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# REQUIRED: Do not leave empty in production deployments!
ENCRYPTION_MASTER_KEY=your_backend_master_encryption_key_here

# ==============================================================================
# BACKEND SECRETS (Backend-only - NEVER expose to frontend)
# ==============================================================================

# Google OAuth Secret - KEEP THIS SECRET, NEVER EXPOSE TO CLIENT
# Only used on backend for secure token exchange
# Do NOT prefix with VITE_ - it will be bundled into frontend if you do!
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Database Connection (if using separate database)
DATABASE_URL=postgresql://user:password@host:5432/database

# ==============================================================================
# SECURITY GUIDELINES AND BEST PRACTICES
# ==============================================================================

# 1. ENVIRONMENT VARIABLE NAMING:
#    - VITE_* = Frontend variables (SAFE to expose - bundled in browser)
#    - Other = Backend only (KEEP SECRET)
#    - NEVER use VITE_ prefix for secrets!
#
# 2. ENCRYPTION KEYS (CRITICAL - Production Requirement):
#    - ENCRYPTION_MASTER_KEY: Backend encryption key used by the email server.
#      This MUST be set in production and stored securely (not in client-side env).
#    - DO NOT create secret keys with a `VITE_` prefix. `VITE_*` variables are
#      bundled into the browser and are publicly visible.
#    - Generate backend key with:
#        node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#    - Store securely in your deployment platform (Vercel, AWS, etc.) and rotate regularly.
#
# 3. GOOGLE_CLIENT_SECRET:
#    - MUST ONLY be in backend .env files
#    - Never expose to frontend in any form
#    - Exchange OAuth codes on backend before returning to client
#
# 4. EMAIL APP PASSWORDS:
#    - Create in Google Account Settings: myaccount.google.com/apppasswords
#    - Use 16-character password provided by Google
#    - Do NOT use your actual Gmail password
#    - Rotate regularly
#
# 5. API_KEY:
#    - Generate with: openssl rand -base64 32
#    - Use for authenticating email server requests
#    - Keep in backend only
#
# 6. GIT AND VERSION CONTROL:
#    - NEVER commit actual .env file to repository
#    - Only commit .env.example with placeholder values
#    - Add .env to .gitignore file
#    - Review .gitignore before committing
#
# 7. PRODUCTION DEPLOYMENT:
#    - Use platform environment variables (Vercel, Netlify, AWS, Heroku, etc.)
#    - Never store secrets in code files
#    - Use secret management tools (HashiCorp Vault, AWS Secrets Manager, etc.)
#    - Encrypt all secrets at rest and in transit
#    - Monitor access logs for suspicious activity
#    - Rotate all keys regularly (every 90 days minimum)
#    - Audit who has access to production secrets
#
# 8. FRONTEND SECURITY:
#    - All API calls should go through backend proxy
#    - Never make direct calls to OAuth endpoints with secrets
#    - Use sessionStorage instead of localStorage for sensitive data
#    - Implement Content Security Policy (CSP) headers
#    - Enable HTTPS in production
#
# ==============================================================================
